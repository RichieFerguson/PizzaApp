<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">PizzaApp</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <%= link_to "Home", root_path, class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to "Pizzas", pizzas_path, class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to "Toppings", toppings_path, class: "nav-link" %>
        </li>
      </ul>
    </div>
  </div>
</nav>


<div class="container my-5">
  <h1 class="mb-4">Welcome to the StrongMind Pizza Manager</h1>

  <div class="d-flex justify-content-between mb-3">
    <%= link_to 'Create a New Pizza', new_pizza_path, class: 'btn btn-primary' %>

  </div>

  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>Pizza Name</th>
        <th>Toppings</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @pizzas.each do |pizza| %>
        <tr>
          <td><%= pizza.name %></td>
          <td>
            <% if pizza.toppings.any? %>
              <%= pizza.toppings.map(&:name).join(', ') %>
            <% else %>
              <em>No Toppings</em>
            <% end %>
          </td>
          <td>
            <%= link_to 'View', pizza_path(pizza), class: 'btn btn-secondary btn-sm' %>
            <%= link_to 'Edit', edit_pizza_path(pizza), class: 'btn btn-warning btn-sm' %>
            <%= link_to 'Delete', pizza_path(pizza), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
